{% block head%}
{% endblock %}

{% block content %}
<div 
  id="calendar" 
  class="calendar" data-mdb-calendar-init 
  data-mdb-readonly="true"
  data-mdb-blur="true"
  data-mdb-view-select="false"
  data-mdb-add-event-button="false"
  style="height: 600px; position: relative;"
>
  <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script>
$(document).ready(function() {
  const calendarElement = document.getElementById('calendar');
  const spinner = calendarElement.querySelector('.spinner-border');
  if (spinner) {
      spinner.remove();
  }
  window.addEventListener('supabaseClientReady', async function() {
    const events = [
        {
            summary: 'Cannabis Cult Connoisseur Pack',
            description: 'Connoisseur Live Resin Pack Voting!',
            start: {date: '01/03/2024', datetime: Calendar.dayjs('01-03-2024T09:00:00').format('MM/DD/YYYY')},
            end: {date: '10/03/2024', datetime: Calendar.dayjs('10-03-2024T09:00:00').format('MM/DD/YYYY')},
            color: { background: '#3F51B5', foreground: '#FFFFFF' },
            id: 1
        },
        {
            summary: 'Cannabis Cult Live Resin Pack Reveal',
            description: 'Live Resin Connoisseur Packs are Back!',
            start: {date: '12/03/2024', datetime: '12-03-2024T09:00:00'},
            end: {date: '12/03/2024', datetime: '12-03-2024T09:00:00'},
            color: { background: '#4DB6AC', foreground: '#FFFFFF' },
            id: 2
        },
    ];
    const calendarInstance = Calendar.getInstance(calendarElement); 
    calendarInstance.addEvents(events);
    calendarInstance.refresh();

  });
});
</script>
{% endblock %}
